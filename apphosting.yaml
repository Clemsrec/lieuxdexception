# Firebase App Hosting Configuration - Lieux d'Exception
# Documentation: https://firebase.google.com/docs/app-hosting

# Configuration du build et runtime
runConfig:
  minInstances: 0  # Scale to zero pour économiser
  maxInstances: 4  # Maximum 4 instances
  concurrency: 80  # 80 requêtes simultanées par instance
  cpu: 1           # 1 vCPU par instance
  memoryMiB: 512   # 512 MB de RAM par instance

env:
  # ============================================================================
  # VARIABLES FIREBASE (Auto-injectées par Firebase App Hosting)
  # ============================================================================
  # Firebase App Hosting injecte automatiquement :
  # - FIREBASE_CONFIG (pour Admin SDK côté serveur)
  # - FIREBASE_WEBAPP_CONFIG (pour Client SDK côté navigateur)
  # Pas besoin de les définir manuellement !
  
  # ============================================================================
  # VARIABLES SYSTÈME
  # ============================================================================
  - variable: NODE_ENV
    value: production
    availability:
      - BUILD
      - RUNTIME
  
  # Important : Force Next.js à utiliser le standalone output
  - variable: NEXT_TELEMETRY_DISABLED
    value: "1"
    availability:
      - BUILD
      - RUNTIME
