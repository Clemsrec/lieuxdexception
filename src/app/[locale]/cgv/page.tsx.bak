import type { Metadata } from 'next';
import { getPageContent } from '@/lib/firestore';

/**
 * M√©tadonn√©es pour les CGV
 */
export const metadata: Metadata = {
 title: 'Conditions G√©n√©rales de Vente | Lieux d\'Exception - Groupe Riou',
 description: 'Conditions g√©n√©rales de vente pour la r√©servation de nos lieux d\'exception destin√©s aux √©v√©nements d\'entreprise.',
 robots: {
  index: false,
  follow: false,
 },
};

/**
 * Revalidation : 60 secondes
 * Les donn√©es Firestore sont rafra√Æchies toutes les minutes
 */
export const revalidate = 60;

/**
 * Page Conditions G√©n√©rales de Vente
 * Contenu g√©r√© via Firestore
 */
export default async function CGVPage({
 params,
}: {
 params: Promise<{ locale: string }>;
}) {
 const { locale } = await params;
 
 // Charger le contenu depuis Firestore
 const pageContent = await getPageContent('cgv', locale === 'fr' ? 'fr' : 'en');

 return (
  <main className="min-h-screen">
   <section className="section">
    <div className="container">
     {/* Header */}
     <div className="text-center mb-12">
    <h1 className="text-4xl font-bold mb-4">{pageContent?.title || 'Conditions G√©n√©rales de Vente'}</h1>
    <p className="text-secondary">
     {pageContent?.subtitle || 'Conditions contractuelles pour la r√©servation de nos lieux d\'exception'}
    </p>
    {pageContent?.lastUpdated && (
     <p className="text-sm text-accent mt-2">
      Version en vigueur depuis le {new Date(pageContent.lastUpdated).toLocaleDateString('fr-FR')}
     </p>
    )}
   </div>

   {/* Contenu dynamique depuis Firestore */}
   <div className="max-w-content mx-auto">
    {pageContent?.content && (
     <div 
      className="prose prose-lg max-w-none"
      dangerouslySetInnerHTML={{ __html: pageContent.content }}
     />
    )}
    
    {/* Fallback si pas de contenu Firestore */}
    {!pageContent?.content && (
     <div className="text-center text-secondary">
      <p>Contenu en cours de mise √† jour...</p>
      <p className="text-sm mt-2">Veuillez configurer le contenu de cette page depuis le dashboard admin.</p>
     </div>
    )}
   </div>
  </div>
 </section>
</main>
 );
}
    
    {/* Pr√©ambule */}
    <section className="mb-8">
     <div className="bg-primary/5 p-6 border border-primary/10 text-foreground">
      <h2 className="text-xl font-semibold mb-3 text-primary flex items-center gap-2">
       
       Pr√©ambule
      </h2>
      <p className="text-sm">
       Les pr√©sentes Conditions G√©n√©rales de Vente (CGV) r√©gissent les relations contractuelles entre 
       Lieux d&apos;Exception (Groupe Riou) et ses clients pour la mise √† disposition de lieux √©v√©nementiels 
       et services associ√©s.
      </p>
     </div>
    </section>

    {/* Article 1 - D√©finitions */}
    <section className="mb-8">
     <h2 className="text-2xl font-semibold mb-4">Article 1 - D√©finitions</h2>
     
     <div className="bg-muted p-6">
      <dl className="space-y-3 text-sm">
       <div>
        <dt className="font-medium text-foreground">Prestataire :</dt>
        <dd className="text-secondary">Lieux d&apos;Exception, marque commerciale du Groupe Riou, SARL au capital de 50 000‚Ç¨, immatricul√©e au RCS de Paris sous le num√©ro B 123 456 789.</dd>
       </div>
       
       <div>
        <dt className="font-medium text-foreground">Client :</dt>
        <dd className="text-secondary">Toute personne physique ou morale qui contracte avec le Prestataire pour la r√©servation d&apos;un lieu et/ou de services.</dd>
       </div>
       
       <div>
        <dt className="font-medium text-foreground">√âv√©nement :</dt>
        <dd className="text-secondary">Manifestation organis√©e par le Client dans les locaux mis √† disposition par le Prestataire.</dd>
       </div>
       
       <div>
        <dt className="font-medium text-foreground">Devis :</dt>
        <dd className="text-secondary">Document contractuel d√©taillant les prestations propos√©es et leurs tarifs.</dd>
       </div>
      </dl>
     </div>
    </section>

    {/* Article 2 - Objet */}
    <section className="mb-8">
     <h2 className="text-2xl font-semibold mb-4">Article 2 - Objet du contrat</h2>
     
     <p className="mb-4">
      Le Prestataire met √† disposition du Client des espaces √©v√©nementiels d&apos;exception et propose 
      des services compl√©mentaires pour l&apos;organisation d&apos;√©v√©nements professionnels.
     </p>
     
     <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div className="bg-green-50 border border-green-200 p-4">
       <h3 className="font-medium mb-2 text-green-800 flex items-center gap-2">
        
        Prestations incluses
       </h3>
       <ul className="text-sm text-green-700 space-y-1">
        <li>‚Ä¢ Mise √† disposition des espaces</li>
        <li>‚Ä¢ Mobilier de base</li>
        <li>‚Ä¢ √âquipements techniques standards</li>
        <li>‚Ä¢ Acc√®s aux sanitaires</li>
        <li>‚Ä¢ Nettoyage post-√©v√©nement</li>
       </ul>
      </div>
      
      <div className="bg-blue-50 border border-blue-200 p-4">
       <h3 className="font-medium mb-2 text-blue-800 flex items-center gap-2">
        
        Services optionnels
       </h3>
       <ul className="text-sm text-blue-700 space-y-1">
        <li>‚Ä¢ Traiteur et boissons</li>
        <li>‚Ä¢ √âquipements audiovisuels avanc√©s</li>
        <li>‚Ä¢ D√©coration et am√©nagement</li>
        <li>‚Ä¢ Personnel d&apos;accueil</li>
        <li>‚Ä¢ Services de conciergerie</li>
       </ul>
      </div>
     </div>
    </section>

    {/* Article 3 - R√©servation */}
    <section className="mb-8">
     <h2 className="text-2xl font-semibold mb-4">Article 3 - R√©servation et confirmation</h2>
     
     <div className="space-y-4">
      <div className="bg-muted p-4">
       <h3 className="font-medium mb-2">3.1 Processus de r√©servation</h3>
       <ol className="text-sm list-decimal list-inside space-y-1">
        <li>Demande de devis via notre formulaire ou par t√©l√©phone</li>
        <li>Envoi du devis d√©taill√© sous 24h ouvr√©es</li>
        <li>Validation et signature du devis par le Client</li>
        <li>Versement de l&apos;acompte de r√©servation</li>
        <li>Confirmation d√©finitive de la r√©servation</li>
       </ol>
      </div>
      
      <div className="bg-yellow-50 border border-yellow-200 p-4">
       <h3 className="font-medium mb-2 text-yellow-800 flex items-center gap-2">
        
        3.2 Conditions de validit√©
       </h3>
       <p className="text-sm text-yellow-700">
        La r√©servation n&apos;est consid√©r√©e comme ferme et d√©finitive qu&apos;apr√®s r√©ception 
        du devis sign√© et du versement de l&apos;acompte dans les d√©lais impartis.
       </p>
      </div>
     </div>
    </section>

    {/* Article 4 - Tarifs */}
    <section className="mb-8">
     <h2 className="text-2xl font-semibold mb-4">Article 4 - Tarifs et modalit√©s de paiement</h2>
     
     <div className="space-y-6">
      <div className="bg-muted p-6">
       <h3 className="font-medium mb-3">4.1 Tarification</h3>
       <div className="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
        <div>
         <strong>Tarifs :</strong> Indiqu√©s TTC, TVA 20% incluse
        </div>
        <div>
         <strong>Validit√© :</strong> 30 jours √† compter de l&apos;√©mission
        </div>
        <div>
         <strong>R√©vision :</strong> Possible en cas de modification substantielle
        </div>
        <div>
         <strong>Forfait minimum :</strong> Variable selon le lieu et la p√©riode
        </div>
       </div>
      </div>
      
      <div className="bg-blue-50 border border-blue-200 p-6">
       <h3 className="font-medium mb-3 text-blue-800">üí≥ 4.2 Modalit√©s de paiement</h3>
       
       <div className="space-y-3 text-sm">
        <div className="flex justify-between items-center p-2 bg-blue-100">
         <span>√Ä la r√©servation :</span>
         <strong>30% du montant total</strong>
        </div>
        <div className="flex justify-between items-center p-2 bg-blue-100">
         <span>30 jours avant l&apos;√©v√©nement :</span>
         <strong>50% du montant total</strong>
        </div>
        <div className="flex justify-between items-center p-2 bg-blue-100">
         <span>Le jour de l&apos;√©v√©nement :</span>
         <strong>Solde restant (20%)</strong>
        </div>
       </div>
       
       <div className="mt-4 text-xs text-blue-600">
        <p><strong>Moyens de paiement accept√©s :</strong></p>
        <p>Virement bancaire, ch√®que d&apos;entreprise, carte bancaire (sur place)</p>
       </div>
      </div>
     </div>
    </section>

    {/* Article 5 - Annulation */}
    <section className="mb-8">
     <h2 className="text-2xl font-semibold mb-4">Article 5 - Conditions d&apos;annulation</h2>
     
     <div className="space-y-4">
      <div className="bg-red-50 border border-red-200 p-6">
       <h3 className="font-medium mb-3 text-red-800 flex items-center gap-2">
        
        5.1 Annulation par le Client
       </h3>
       
       <div className="space-y-2 text-sm">
        <div className="flex justify-between items-center p-2 bg-red-100">
         <span>Plus de 60 jours avant :</span>
         <strong>Remboursement int√©gral</strong>
        </div>
        <div className="flex justify-between items-center p-2 bg-red-100">
         <span>Entre 60 et 30 jours :</span>
         <strong>Retenue de 30%</strong>
        </div>
        <div className="flex justify-between items-center p-2 bg-red-100">
         <span>Entre 30 et 15 jours :</span>
         <strong>Retenue de 50%</strong>
        </div>
        <div className="flex justify-between items-center p-2 bg-red-100">
         <span>Moins de 15 jours :</span>
         <strong>Retenue de 80%</strong>
        </div>
       </div>
      </div>
      
      <div className="bg-orange-50 border border-orange-200 p-4">
       <h3 className="font-medium mb-2 text-orange-800 flex items-center gap-2">
        
        5.2 Cas de force majeure
       </h3>
       <p className="text-sm text-orange-700">
        En cas de force majeure (pand√©mie, catastrophe naturelle, etc.), les sommes vers√©es 
        pourront √™tre report√©es sur une date ult√©rieure ou rembours√©es int√©gralement.
       </p>
      </div>
     </div>
    </section>

    {/* Article 6 - Obligations */}
    <section className="mb-8">
     <h2 className="text-2xl font-semibold mb-4">Article 6 - Obligations des parties</h2>
     
     <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div className="bg-green-50 border border-green-200 p-6">
       <h3 className="font-medium mb-3 text-green-800">‚úÖ Obligations du Prestataire</h3>
       <ul className="text-sm text-green-700 space-y-2">
        <li>‚Ä¢ Mettre √† disposition les locaux dans un √©tat parfait</li>
        <li>‚Ä¢ Respecter les horaires convenus</li>
        <li>‚Ä¢ Fournir les √©quipements pr√©vus au contrat</li>
        <li>‚Ä¢ Assurer la s√©curit√© des lieux</li>
        <li>‚Ä¢ Respecter la confidentialit√© de l&apos;√©v√©nement</li>
       </ul>
      </div>
      
      <div className="bg-blue-50 border border-blue-200 p-6">
       <h3 className="font-medium mb-3 text-blue-800 flex items-center gap-2">
        
        Obligations du Client
       </h3>
       <ul className="text-sm text-blue-700 space-y-2">
        <li>‚Ä¢ Respecter les r√®gles d&apos;usage des lieux</li>
        <li>‚Ä¢ D√©clarer le nombre exact de participants</li>
        <li>‚Ä¢ Souscrire une assurance responsabilit√© civile</li>
        <li>‚Ä¢ Respecter les horaires de d√©but et fin</li>
        <li>‚Ä¢ Laisser les lieux dans l&apos;√©tat initial</li>
       </ul>
      </div>
     </div>
    </section>

    {/* Article 7 - Responsabilit√© */}
    <section className="mb-8">
     <h2 className="text-2xl font-semibold mb-4">Article 7 - Responsabilit√© et assurances</h2>
     
     <div className="space-y-4">
      <div className="bg-muted p-6">
       <h3 className="font-medium mb-3">7.1 Assurance du Prestataire</h3>
       <p className="text-sm mb-2">
        Le Prestataire est assur√© pour :
       </p>
       <ul className="text-sm list-disc list-inside space-y-1">
        <li>Responsabilit√© civile propri√©taire des locaux</li>
        <li>Dommages aux biens mobiliers mis √† disposition</li>
        <li>Multirisque professionnelle</li>
       </ul>
       <p className="text-xs text-secondary mt-2">
        Assureur : AXA Assurances - Police n¬∞ XXX123456 - Validit√© jusqu&apos;au 31/12/2024
       </p>
      </div>
      
      <div className="bg-yellow-50 border border-yellow-200 p-4">
       <h3 className="font-medium mb-2 text-yellow-800 flex items-center gap-2">
        
        7.2 Assurance obligatoire du Client
       </h3>
       <p className="text-sm text-yellow-700">
        Le Client doit imp√©rativement souscrire une assurance responsabilit√© civile couvrant 
        l&apos;√©v√©nement et fournir l&apos;attestation au moins 48h avant l&apos;√©v√©nement.
       </p>
      </div>
     </div>
    </section>

    {/* Article 8 - Litiges */}
    <section className="mb-8">
     <h2 className="text-2xl font-semibold mb-4">Article 8 - Litiges et droit applicable</h2>
     
     <div className="bg-muted p-6">
      <div className="space-y-4 text-sm">
       <div>
        <h3 className="font-medium mb-2">8.1 Droit applicable</h3>
        <p>Les pr√©sentes CGV sont soumises au droit fran√ßais.</p>
       </div>
       
       <div>
        <h3 className="font-medium mb-2">8.2 R√©solution amiable</h3>
        <p>
         En cas de litige, les parties s&apos;engagent √† rechercher une solution amiable. 
         √Ä d√©faut, le Client peut saisir le m√©diateur de la consommation ou les tribunaux comp√©tents.
        </p>
       </div>
       
       <div>
        <h3 className="font-medium mb-2">8.3 Juridiction comp√©tente</h3>
        <p>
         √Ä d√©faut de r√©solution amiable, tout litige sera de la comp√©tence exclusive 
         des tribunaux de Paris, nonobstant pluralit√© de d√©fendeurs ou appel en garantie.
        </p>
       </div>
      </div>
     </div>
    </section>

    {/* Article 9 - Divers */}
    <section className="mb-8">
     <h2 className="text-2xl font-semibold mb-4">Article 9 - Dispositions diverses</h2>
     
     <div className="space-y-4">
      <div className="bg-muted p-4">
       <h3 className="font-medium mb-2">9.1 Modification des CGV</h3>
       <p className="text-sm">
        Le Prestataire se r√©serve le droit de modifier ces CGV √† tout moment. 
        Les CGV applicables sont celles en vigueur √† la date de signature du devis.
       </p>
      </div>
      
      <div className="bg-muted p-4">
       <h3 className="font-medium mb-2">9.2 Nullit√© partielle</h3>
       <p className="text-sm">
        Si une ou plusieurs stipulations des pr√©sentes CGV sont tenues pour non valides, 
        les autres dispositions garderont toute leur force et leur port√©e.
       </p>
      </div>
      
      <div className="bg-muted p-4">
       <h3 className="font-medium mb-2">9.3 Conservation des documents</h3>
       <p className="text-sm">
        Conform√©ment √† la r√©glementation, les documents contractuels sont conserv√©s 
        pendant 10 ans √† compter de la fin du contrat.
       </p>
      </div>
     </div>
    </section>

    {/* Contact et informations l√©gales */}
    <section className="mb-8">
     <h2 className="text-2xl font-semibold mb-4">Contact et informations l√©gales</h2>
     
     <div className="bg-primary/5 p-6 border border-primary/10">
      <div className="grid grid-cols-1 md:grid-cols-2 gap-6 text-sm">
       <div>
        <h3 className="font-medium mb-2">Lieux d&apos;Exception - Groupe Riou</h3>
        <p>SARL au capital de 50 000‚Ç¨</p>
        <p>SIRET : 12345678901234</p>
        <p>RCS Paris B 123 456 789</p>
        <p>TVA : FR12345678901</p>
       </div>
       
       <div>
        <h3 className="font-medium mb-2">Contact</h3>
        <p>123 Avenue des Champs</p>
        <p>75008 Paris, France</p>
        <p className="flex items-center gap-2">
         
         +33 1 23 45 67 89
        </p>
        <p className="flex items-center gap-2">
         
         contact@lieuxdexception.com
        </p>
       </div>
      </div>
      
      <div className="mt-4 pt-4 border-t border-primary/10">
       <p className="text-xs text-secondary">
        Pour toute r√©clamation : reclamation@lieuxdexception.com<br />
        M√©diateur de la consommation : <a href="https://www.mediation-consommation.org" className="text-primary hover:underline">www.mediation-consommation.org</a>
       </p>
      </div>
     </div>
    </section>

    {/* Date de mise √† jour */}
    <section className="text-center pt-8 border-t border-border">
     <p className="text-sm text-secondary">
      Conditions G√©n√©rales de Vente en vigueur au 1er novembre 2024
     </p>
     <p className="text-xs text-secondary mt-2">
      Version 3.2 - Document contractuel √† conserver
     </p>
    </section>
    </div>
    </div>
   </section>
  </main>
 );
}